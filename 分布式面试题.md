什么是CAP理论
===

CAP定理，指的是在一个分布式系统中， 一致性、可用性和分区容错性 三者不可同时兼得。

- **Consistency (一致性)**：对一个节点的数据进行更新操作后，所有节点能够获取到最新的数据。

- **Availability (可用性)**：系统提供的服务必须一直处于可用的状态，对于用户的每一个操作请求都能够==及时的返回结果==。

- **Partition Tolerance (分区容错性)**：分布式系统在遇到某节点或网络分区故障的时候，仍然能够对外提供满足一致性和可用性的服务。

![image-20210721102052851](分布式面试题.assets/image-20210721102052851.png)

CA：放弃分区容错性P，加强一致性和可用性，其实就是传统的单机数据库的选择。 

AP：放弃一致性C，一旦分区发生，节点之间可能会失去联系，为了高可用，每个节点只能用本地数据提供服务，而这样会导致全局数据的不一致性。

CP：放弃可用性A，由于分区之间会导致同步时间无限延长(等待数据同步完才能正常访问服务)，一旦发生网络故障或者消息丢失等情况，就要牺牲用户的体验，等待所有数据全部一致了之后再让用户访问系统。最典型的就是分布式数据库，如Redis、HBase等

作者：匠丶
链接：https://www.jianshu.com/p/ac0a8363c23d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



什么是BASE理论
===

BASE是**B**asically **A**vailable（基本可用）、**S**oft state（软状态）和**E**ventually consistent（最终一致性）的缩写，基于CAP定理逐步演化而来。

BASE理论的核心思想是：即使无法做到强一致性，但每个应用都可以根据自身业务特点，采用适当的方式来使系统达到**最终一致性**。

- 基本可用：分布式系统在出现不可预知故障的时候，允许损失部分可用性。比如时间上的损失，功能上的损失。

- 软状态：允许系统在不同节点的数据副本之间进行数据同步的过程存在延时。
- 最终一致性：最终一致性强调的是所有的数据副本，在经过一段时间的同步之后，最终都能够达到一个一致的状态。



